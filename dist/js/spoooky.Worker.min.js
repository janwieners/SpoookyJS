"use strict";importScripts("deps-worker.min.js","spoooky.js"),self.addEventListener("message",function(e){var t,a=e.data;switch(a.command){case"monte carlo tree search with uct":self.postMessage({type:"Starting Monte Carlo Tree Search With UCT"});var s=(n=new Spoooky.Game).clone(a.gameModel),o=Spoooky.AI.UCT(s,a.agentFocus,a.maxSteps,a.maxTime,a.learn,a.uctConstant,a.generateMctsGraph);self.postMessage({type:"decision",agentID:a.agentID,agentRole:a.agentRole,agentFocus:a.agentFocus,results:o.results,simCount:o.simCount,uctConstant:a.uctConstant,simSteps:o.simSteps,mctsGraph:o.mctsGraph,QLearner:JSON.stringify(o.QLearner)}),self.close();break;case"alpha beta negamax":self.postMessage({type:"Starting Alpha Beta NegaMax Search"});var n=new Spoooky.Game;t=Spoooky.AI.abNegaMax(n.clone(a.gameModel),a.maxDepth,0,-1*Number.MAX_VALUE,Number.MAX_VALUE,a.agentFocus),self.postMessage({type:"decision",agentID:a.agentID,agentRole:a.agentRole,agentFocus:a.agentFocus,results:[{score:t.score,moveIndex:t.move.moveIndex,target:t.move.targetX+1+"-"+(t.move.targetY+1)}]}),self.close();break;default:self.postMessage("Unknown command: "+a.command)}},!1);