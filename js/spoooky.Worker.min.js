importScripts("libs/underscore-min.js","spoooky.js","spoooky.Models.js","spoooky.Game.js","spoooky.DiceBox.js","spoooky.GridWelt.js","spoooky.OffBoard.js","spoooky.GameEvents.js","spoooky.JobQueue.js","spoooky.Areas.js","spoooky.Agent.js","spoooky.MetaAgent.js","spoooky.Entity.js","spoooky.AI.js");
self.addEventListener("message",function(a){a=a.data;var b;switch(a.command){case "monte carlo tree search with uct":self.postMessage({type:"Starting Monte Carlo Tree Search With UCT"});b=new Spoooky.Game;b=b.clone(a.gameModel);b=Spoooky.AI.UCT(b,a.agentFocus,a.maxSteps,a.maxTime,a.learn,a.uctConstant,a.generateMctsGraph);self.postMessage({type:"decision",agentID:a.agentID,agentRole:a.agentRole,agentFocus:a.agentFocus,results:b.results,simCount:b.simCount,uctConstant:a.uctConstant,simSteps:b.simSteps,
mctsGraph:b.mctsGraph,QLearner:JSON.stringify(b.QLearner)});self.close();break;case "alpha beta negamax":self.postMessage({type:"Starting Alpha Beta NegaMax Search"});b=new Spoooky.Game;b=Spoooky.AI.abNegaMax(b.clone(a.gameModel),a.maxDepth,0,-1*Number.MAX_VALUE,Number.MAX_VALUE,a.agentFocus);self.postMessage({type:"decision",agentID:a.agentID,agentRole:a.agentRole,agentFocus:a.agentFocus,results:[{score:b.score,moveIndex:b.move.moveIndex,target:b.move.targetX+1+"-"+(b.move.targetY+1)}]});self.close();
break;default:self.postMessage("Unknown command: "+a.command)}},!1);
